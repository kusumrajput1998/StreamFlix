<!DOCTYPE html>
<html>
<head>
    <title>Login - StreamFlix</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>

    <header>
        <h1 class="logo">StreamFlix</h1>
    </header>

    <section class="login-section">
        <h2>Login</h2>
        <form id="loginForm">
            <input type="text" id="username" placeholder="Username" required />
            <input type="password" id="password" placeholder="Password" required />
            <button type="submit">Login</button>
        </form>
        <p id="message"></p>
    </section>

<script>
document.getElementById("loginForm").addEventListener("submit", function(e) {
    e.preventDefault();

    fetch("/auth/login", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            username: document.getElementById("username").value,
            password: document.getElementById("password").value
        })
    })
    .then(response => response.json())
    .then(data => {
        document.getElementById("message").innerText = data.message || "Login successful!";
    });
});
</script>

</body>
</html>
